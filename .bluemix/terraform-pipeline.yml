---
stages:
- name: Build Preparation Stage
  inputs:
  - type: git
    branch: master
    service: ${REPO}
  properties:
  - name: VI_INSTANCE_NAME
    value: NodeVSIforDevOps
    type: text
  - name: API_KEY
    value: "${API_KEY}"
    type: secure
  - name: PRIVATE_KEY
    value: "${PRIVATE_KEY}"
    type: secure
  jobs:
  - name: Validate
    type: builder
    artifact_dir: ''
    build_type: shell
    script: |
      #!/bin/bash
      set -eo pipefail
      bash terraform/scripts/validate.sh